(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{737:function(e,n,t){"use strict";t.r(n);var h=t(0),m=t.n(h),a=t(93),v=t(77),g=t(564),c=t(39),b=t(731),x=t(554),y=t(727),E=t(92),k=t(732),u=t(555),i=t(11),r=t(23),o=t(586),l=t.n(o),s=t(588),d=t.n(s),p=t(587),f=t.n(p),w=t(589),N=t.n(w),S=t(590),L=t.n(S);function z(){var e=$(["\n    width:0px;\n    height:0px;\n    border-radius:50%;\n    border:1px solid #dcdcdc;\n    background:#fff;\n    float:left;\n    margin:25px -5px 0 15px;\n    position:relative;\n    >span.iconfont{\n        color:#55a12f;\n        position:absolute;\n        top: -6px;\n        left: 0px;\n        font-size: 20px;\n    }\n    &.middle-check-box-show{\n        width:20px;\n        height:20px;\n        opacity:1;\n        span{\n            display:block;\n        }\n    }\n    &.middleChceckBox{\n        width:20px;\n        height:20px;\n        opacity:1;\n        display:block;\n    }\n    transition:all ease-in .1s;\n"]);return z=function(){return e},e}function C(){var e=$(["\n    flex:1;\n    height:100%;\n    text-align:center;\n    font-size:14px;\n    color:#999;\n    padding-top:10px;\n    cursor:pointer;\n    .iconfont{\n        font-size:20px;\n    }\n    &:hover{\n        color:#666;\n    }\n    >p{\n        margin-top:10px;\n    }\n    \n    .reset-shanchu{\n        display: block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        overflow: hidden;\n        background:url(",") 100% 100% no-repeat;\n        background-size: cover;\n        margin: 5px auto;\n    }\n"]);return C=function(){return e},e}function T(){var e=$(["\n    width:100%;\n    height:75px;\n    display:flex;\n    position: absolute;\n    left: 0;\n    bottom: -75px;\n    background: #fff;\n    border: 1px solid #f7f7f7;\n    box-sizing: border-box;\n    transition: all ease-in .2s;\n    &.useroparate-active{\n        bottom: 0px;\n    }\n"]);return T=function(){return e},e}function j(){var e=$(["\n    &.padding-active{\n        padding-bottom:75px;\n    }\n    .spin{\n        display:block;\n        margin:50px auto;\n    }\n    .empty{\n        margin-top:30%;\n    }\n"]);return j=function(){return e},e}function D(){var e=$(["\n    \n"]);return D=function(){return e},e}function O(){var e=$(["\n    display:block;\n    width:100%;\n    height:30px;\n    float:left;\n"]);return O=function(){return e},e}function P(){var e=$(["\n    display:block;\n    width:45%;\n    float:left;\n    overflow:hidden;\n    span{\n        display:block;\n        float:left;\n        font-size:13px;\n        color:#666;\n        line-height:30px;\n    }\n    &:nth-child(even){\n        float:right;\n    }\n"]);return P=function(){return e},e}function I(){var e=$(["\n    height:0;\n    overflow:hidden;\n    background:#f7f7f7;\n    padding:0 20px;\n    input{\n        outline:none;\n        border:1px solid #dcdcdc;\n        border-radius:5px;\n        padding:0 10px;\n    }\n    input:focus{\n        border:1px solid #55a12f;\n    }\n    input::placeholder{\n        font-size:12px;\n        color:#999;\n    }\n    transition:all ease-in .2s;\n    &.searchel-show{\n        height:180px;\n    }\n"]);return I=function(){return e},e}function H(){var e=$(["\n    float:left;\n    line-height:30px;\n    color:#333;\n    margin-right:20px;\n    span{\n        display:inline-block;\n        line-height:30px;\n        color:red;\n        margin-right:5px;\n    }\n    min-width:90px;\n    text-align:right;\n"]);return H=function(){return e},e}function F(){var e=$(["\n    margin:30px 0;\n    &>.add-input{\n        width:400px;\n        font-size:14px;\n        outline:none;\n        height:30px;\n        border:1px solid #dcdcdc;\n        border-radius:4px;\n        padding:0 10px;\n    }\n    &>.add-input::placeholder{\n        color:#ccc;\n        font-size:12px;\n    }\n        \n    &>.add-input:hover{\n        border:1px solid #55a12f;\n    }\n    &>.add-input:focus{\n        border:1px solid #55a12f;\n        box-shadow:none;\n    }\n    transition:all ease-in .1s;\n\n    .add-number{\n        float:right;\n        line-height:30px;\n        margin-right:50px;\n    }\n    .ant-select-selection__placeholder{\n        font-size:12px;\n    }\n    .ant-select-selection:hover{\n        border:1px solid #55a12f;\n    }\n    .ant-select-focused{\n        box-shadow:none;\n    }\n    .add-input-cabinetNo input::-webkit-outer-spin-button,\n    input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n    }\n"]);return F=function(){return e},e}function _(){var e=$(["\n    margin:30px 0 50px 50px;\n"]);return _=function(){return e},e}function A(){var e=$(["\n    width:70px;\n    height:30px;\n    border-radius:2px;\n    font-size:14px;\n    text-align:center;\n    line-height:30px;\n    margin:15px 0;\n    cursor:pointer;\n    &.add-save{\n        background:#55a12f;\n        color:#FFF;\n        margin-right:30px;\n    }\n    &.add-cancel{\n        color:#666;\n    }\n"]);return A=function(){return e},e}function W(){var e=$(["\n    float:right;\n    display:flex;\n    justify-content:flex-end;\n"]);return W=function(){return e},e}function M(){var e=$(["\n    display:block;\n    line-height:60px;\n    font-size:16px;\n    color:#333;\n    float:left;\n    margin-left:30px;\n"]);return M=function(){return e},e}function U(){var e=$(["\n    height:60px;\n    border-bottom:1px solid #f7f7f7;\n    overflow:hidden;\n"]);return U=function(){return e},e}function B(){var e=$(["\n    float:left;\n    p:nth-child(1) span:nth-child(1){\n        font-size:16px;\n        color:#333;\n        max-width: 100px;\n        display: inline-block;\n        overflow:hidden;\n        text-overflow:ellipsis;\n        white-space:nowrap\n    }\n    p:nth-child(1) span:nth-child(2){\n        font-size:16px;\n        color:#999;\n        margin-left:20px;\n    }\n    p:nth-child(1){\n        margin: 18px 0 0 0px;\n    }\n    p:nth-child(2){\n        font-size:14px;\n        color:#999;\n        margin: 12px 0 0 0;\n        overflow:hidden;\n        text-overflow:ellipsis;\n        white-space:nowrap\n    }\n"]);return B=function(){return e},e}function J(){var e=$(["\n    clear:both;\n    height:80px;\n    border-left:4px solid #f7f7f7;\n    cursor:default;\n    box-sizing: content-box;\n    img{\n        display:block;\n        width:40px;\n        height:40px;\n        border-radius:50%;\n        float:left;\n        margin:20px 15px 20px 25px;\n    }\n    \n    .moren-img{\n        display:block;\n        width:40px;\n        height:40px;\n        border-radius:50%;\n        float:left;\n        overflow:hidden;\n        margin:20px 15px 20px 25px;\n        background:url(",") 100% 100% no-repeat;\n        background-size:cover;\n    }\n    border-bottom:1px solid #f3f3f3;\n\n    &.selected{\n        background:#fff;\n        border-left:4px solid #55a12f;\n        box-sizing: content-box;\n    }\n    >.iconfont{\n        display:block;\n        font-size:40px;\n        color:#DDD;\n        float:left;\n        margin:9px 15px 20px 25px;\n    }\n    .same-active{\n        margin: 30px -5px 0 15px!important;\n        transition:all ease-in .15s;\n        float: left;\n    }\n    .same-active1{\n        width: 0px;\n        opacity:0;\n    }\n    .same-active2{\n        display: block;\n        width: 0px;\n        height: 20px;\n        font-size: 20px;\n        margin: 25px -15px 0 15px!important;\n        color:#55a12f;\n        opacity:0;\n    }\n    .click-active{\n        width: 20px!important;\n        opacity:1!important;\n        height: 20px!important;\n    }\n    .same-active3 + .same-active1{\n        width: 0px!important;\n        opacity:0!important;\n    }\n"]);return J=function(){return e},e}function q(){var e=$(["\n    height:0px;\n    overflow:hidden;\n    background:#fff;\n    color:#999;\n    font-size:14px;\n    text-align:center;\n    line-height:80px;\n    cursor:default;\n    transition:all ease-in .2s;\n    &.add-customer-show{\n        height:80px;\n    }\n"]);return q=function(){return e},e}function R(){var e=$(["\n    overflow-y:auto;\n    background:#f7f7f7;\n    &::-webkit-scrollbar-track-piece { \n        background-color:#f7f7f7;\n    }\n    &.editSrollBar::-webkit-scrollbar{\n        width: 8px;\n    }\n    &.editSrollBar::-webkit-scrollbar-thumb\n    {\n        background-color:#f6f6f6;\n        border-radius: 4px;\n        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n    }\n    &.MiddleListWrapper-active{\n        padding-bottom:75px;\n    }\n    \n"]);return R=function(){return e},e}function G(){var e=$(["\n    display:flex;\n    justify-content: flex-end;\n    padding-right:30px;\n    span{\n        line-height:30px;\n        padding:0 10px;\n        padding-top:15px;\n        font-size:20px;\n        cursor:default;\n        color:#999;\n    }\n    span:hover{\n        color:#333;\n    }\n    .reset-sousuo{\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        overflow: hidden;\n        background:url(",") 100% 100% no-repeat;\n        background-size: cover;\n        margin: 20px 5px 0 5px;\n        float: left;\n    }\n    .reset-jia{\n        display: inline-block;\n        width: 19px;\n        height: 19px;\n        border-radius: 50%;\n        overflow: hidden;\n        background:url(",") 100% 100% no-repeat;\n        background-size: cover;\n        margin: 20px 10px 0 5px;\n        float: left;\n    }\n    .reset-bianji{\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        overflow: hidden;\n        background:url(",") 100% 100% no-repeat;\n        background-size: cover;\n        margin: 20px 10px 0 10px;\n        float: left;\n    }\n"]);return G=function(){return e},e}function K(){var e=$(["\n    height:60px;\n    background:#f7f7f7;\n    >span{\n        display:block;\n        float:left;\n        line-height:60px;\n        padding-left:30px;\n        font-size:16px;\n        color:#333;\n    }\n"]);return K=function(){return e},e}function Q(){var e=$(["\n    padding:0 30px;\n    flex:2;\n    height:100%;\n    .ant-empty{\n        margin-top:50px;\n    }\n    overflow-y:auto;\n    &::-webkit-scrollbar-track-piece { \n        background-color:#f7f7f7;\n    }\n    &.editSrollBar::-webkit-scrollbar{\n        width: 8px;\n    }\n    &.editSrollBar::-webkit-scrollbar-thumb\n    {\n        background-color:#f6f6f6;\n        border-radius: 4px;\n        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);\n    }\n"]);return Q=function(){return e},e}function V(){var e=$(["\n    width:400px;\n    height:100%;\n    position:relative;\n"]);return V=function(){return e},e}function X(){var e=$(["\n    height:100%;\n    flex:2;\n    display:flex;\n"]);return X=function(){return e},e}function Y(){var e=$(["\n    display:flex;\n    height:100%;\n"]);return Y=function(){return e},e}function Z(){var e=$(["\n    \n"]);return Z=function(){return e},e}function $(e,n){return n=n||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}r.b.div(Z());var ee=r.b.div(Y()),ne=r.b.div(X()),te=r.b.div(V()),ae=r.b.div(Q()),ie=r.b.div(K()),re=r.b.div(G(),d.a,f.a,N.a),oe=r.b.div(R()),le=r.b.div(q()),se=r.b.div(J(),l.a),ce=r.b.div(B()),ue=r.b.div(U()),de=r.b.span(M()),pe=r.b.div(W()),fe=r.b.div(A()),he=r.b.div(_()),me=r.b.div(F()),ve=r.b.div(H()),ge=r.b.div(I()),be=r.b.div(P()),xe=r.b.input(O()),ye=r.b.div(D()),Ee=r.b.div(j()),ke=r.b.div(T()),we=r.b.div(C(),L.a),Ne=r.b.div(z());function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,n){return(Te=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var je=function(){function t(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,n){return!n||"object"!==Se(n)&&"function"!=typeof n?Ce(e):n}(this,ze(t).call(this,e))).state={login:Object(c.u)("token"),userList:[],userType:"",userInfo:Object(c.u)("user"),pageNum:1,pageSize:10,load:!0,add:!1,nodata:!0,search:!1,edit:!1,spin:!0,userName:"",cabinetNo:"",mobilePhone:"",userId:"",userDetail:{},saveDetail:{},isLook:!1,isbtn:!1,activeId:"",name:"",orgNo:""},n.resetHeight=n.resetHeight.bind(Ce(n)),n.getData=n.getData.bind(Ce(n)),n.getUserDetail=n.getUserDetail.bind(Ce(n)),n}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Te(e,n)}(t,h["Component"]),function(e,n,t){n&&Le(e.prototype,n),t&&Le(e,t)}(t,[{key:"render",value:function(){var t=this,e=this.state,n=e.login,a=e.userList,i=e.add,r=e.edit,o=e.userId,l=e.nodata,s=e.userDetail,c=(e.spin,e.userType),u=e.saveDetail,d=e.isbtn,p=b.a.Option,f=x.a.confirm;return n?m.a.createElement(ee,null,m.a.createElement(g.a,null),m.a.createElement(ne,null,m.a.createElement(te,null,m.a.createElement(ie,null,m.a.createElement("span",null,"用户管理"),m.a.createElement(re,null,m.a.createElement(y.a,{title:"新建用户",onClick:function(){t.handleAddMustor(t.addmustorEl,t.searchEl)}},m.a.createElement("div",{className:"reset-jia"})),m.a.createElement(y.a,{title:"搜索",onClick:function(){t.handleSearch(t.searchEl,t.addmustorEl)}},m.a.createElement("div",{className:"reset-sousuo"})),m.a.createElement(y.a,{title:"编辑",onClick:function(){t.handleUserEdit(t.useroparateel,t.userlistwrapper)}},m.a.createElement("div",{className:"reset-bianji"})))),m.a.createElement(oe,{className:"editSrollBar",ref:function(e){t.listWrapper=e}},m.a.createElement(le,{ref:function(e){t.addmustorEl=e},onClick:function(){t.handleAdd(t.addmustorEl)}},"新建用户"),m.a.createElement(ge,{ref:function(e){t.searchEl=e}},m.a.createElement(be,null,m.a.createElement("span",null,"柜员号"),m.a.createElement(xe,{placeholder:"请输入",ref:function(e){t.guiyuanEl=e}})),m.a.createElement(be,null,m.a.createElement("span",null,"手机号"),m.a.createElement(xe,{placeholder:"请输入",ref:function(e){t.searchMobileEl=e}})),m.a.createElement(be,null,m.a.createElement("span",null,"姓名"),m.a.createElement(xe,{placeholder:"请输入",ref:function(e){t.searchxingEl=e}})),m.a.createElement(be,null,m.a.createElement("span",null,"机构号"),m.a.createElement(xe,{placeholder:"请输入",ref:function(e){t.searchjigouEl=e}})),m.a.createElement(pe,null,m.a.createElement(fe,{className:"add-cancel",onClick:function(){t.handleCancel(t.searchEl)}},"取消"),m.a.createElement(fe,{className:"add-save",onClick:function(){t.handleSave(t.guiyuanEl,t.searchNameEl,t.searchMobileEl,t.searchEl,t.searchxingEl,t.searchjigouEl)}},"搜索"))),m.a.createElement(Ee,{ref:function(e){t.userlistwrapper=e}},0<a.length?a.map(function(e,n){return m.a.createElement(se,{className:e.active?"selected":"",key:e.userId,onClick:function(){t.handleList(t.userlistwrapper,n,e.userId,r,e.active,t.addmustorEl)}},m.a.createElement("span",{className:r&&e.active?"iconfont same-active same-active2 click-active same-active3":"iconfont same-active same-active2"},""),m.a.createElement(Ne,{className:r?"same-active same-active1 click-active":"same-active same-active1"}),e.src?m.a.createElement("img",{src:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1556782759160&di=2e2df9eae570460adfc6bec7e2887d3c&imgtype=0&src=http%3A%2F%2Fwenwen.soso.com%2Fp%2F20120208%2F20120208165308-1774101526.jpg",alt:""}):m.a.createElement("div",{className:"moren-img"}),m.a.createElement(ce,null,m.a.createElement("p",null,m.a.createElement("span",null,e.name),m.a.createElement("span",null,e.mobilePhone)),m.a.createElement("p",null,e.cabinetNo)))}):m.a.createElement(E.a,{className:"empty",description:"暂无数据"})),m.a.createElement(ke,{ref:function(e){t.useroparateel=e}},m.a.createElement(we,{onClick:function(){t.handleuserdelete(f)}},m.a.createElement("div",{className:"reset-shanchu"}),m.a.createElement("p",null,"删除"))))),m.a.createElement(ae,{className:"editSrollBar"},m.a.createElement(ye,{className:i?"isShow":"isHide"},m.a.createElement(ue,null,this.state.isLook?m.a.createElement(de,null,"编辑用户"):m.a.createElement(de,null,"新建用户"),m.a.createElement(pe,null,d?m.a.createElement(h.Fragment,null,m.a.createElement(fe,{className:"add-cancel",onClick:function(){t.handleAddCancel(u,t.addmustorEl)}},"取消"),m.a.createElement(fe,{className:"add-save",onClick:function(){t.handleAddSave(t.name,t.idCard,t.mobile,o,t.organNum,t.organName)}},"保存")):"")),m.a.createElement(he,null,m.a.createElement(h.Fragment,null,m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"柜员号"),m.a.createElement(k.a,{className:"add-input add-input-cabinetNo",placeholder:"请输入柜员号",ref:function(e){t.idCard=e},value:s.cabinetNo,type:"number",onChange:function(){t.handleChange(t.idCard,1)}}),m.a.createElement("p",null)),m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"用户姓名"),m.a.createElement(k.a,{className:"add-input",placeholder:"请输入姓名",ref:function(e){t.name=e},value:s.name,onChange:function(){t.handleChange(t.name,2)}}),m.a.createElement("p",null)),m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"手机号码"),m.a.createElement(k.a,{className:"add-input",placeholder:"请输入手机号码",ref:function(e){t.mobile=e},value:s.mobilePhone,onChange:function(){t.handleChange(t.mobile,3)}}),m.a.createElement("p",null)),m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"用户类别"),m.a.createElement(b.a,{showSearch:!0,style:{width:400},placeholder:"请选择用户类别",optionFilterProp:"children",onChange:function(e){t.userkind(e,2)},value:c,filterOption:function(e,n){return 0<=n.props.children.toLowerCase().indexOf(e.toLowerCase())}},m.a.createElement(p,{value:"2"},"客户经理"),m.a.createElement(p,{value:"3"},"审核员"),m.a.createElement(p,{value:"4"},"业务管理员")),m.a.createElement("p",null)),m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"机构号"),m.a.createElement(k.a,{className:"add-input",placeholder:"请输入机构号",ref:function(e){t.organNum=e},value:s.orgNo,onChange:function(){t.handleChange(t.organNum,4)}}),m.a.createElement("p",null)),m.a.createElement(me,null,m.a.createElement(ve,null,m.a.createElement("span",null,"*"),"机构名称"),m.a.createElement(k.a,{className:"add-input",placeholder:"请输入机构名称",ref:function(e){t.organName=e},value:s.orgName,onChange:function(){t.handleChange(t.organName,5)}}),m.a.createElement("p",null))))),m.a.createElement(E.a,{className:l?"ant-empty isShow":"ant-empty isHide",description:"暂无数据"})))):m.a.createElement(v.c,{to:"/login"})}},{key:"scrollTop",value:function(){var e=this.listWrapper;return Math.max(e.scrollTop)}},{key:"documentHeight",value:function(){var e=this.listWrapper;return Math.max(e.scrollHeight)}},{key:"windowHeight",value:function(){var e=this.listWrapper;return e.compatMode,e.clientHeight}},{key:"componentDidMount",value:function(){var e=this;this.state.login&&(this.resetHeight(this.listWrapper),this.getData(),this.listWrapper.addEventListener("scroll",function(){e.scrollTop()+e.windowHeight()>=e.documentHeight()-50&&e.getData("concatList")}))}},{key:"componentWillUnmount",value:function(){this.listWrapper.onscroll=""}},{key:"componentDidUpdate",value:function(){this.state.login&&this.resetHeight(this.listWrapper)}},{key:"getData",value:function(a){var i=this;if(this.state.load){var e={cabinetNo:this.state.cabinetNo,mobilePhone:this.state.mobilePhone,pageNum:this.state.pageNum,pageSize:this.state.pageSize,name:this.state.name,orgNo:this.state.orgNo};this.setState({load:!1},function(){Object(c.B)(e).then(function(e){var n=e.data;if(i.setState({spin:!0}),n.data.list.map(function(e,n){return e.active=!1}),i.state.activeId&&n.data.list.map(function(e,n){return e.userId==i.state.activeId?e.active=!0:""}),1===n.code&&"success"===n.msg)if(n.data&&n.data.list){var t=i.state.userList;"concatList"===a?i.setState({userList:t.concat(n.data.list),spin:!1}):i.setState({userList:n.data.list,spin:!1}),n.data.hasNextPage?i.setState({load:!0,pageNum:n.data.pageNum+1}):i.setState({load:!1})}else u.a.error("暂无数据"),i.setState({load:!1});else i.setState({load:!1})}).catch(function(e){i.setState({load:!1})})})}}},{key:"handleAdd",value:function(e){this.setState({add:!0,search:!1,userId:"",nodata:!1,userDetail:{cabinetNo:"",createTime:"",mobilePhone:"",name:"",orgName:"",orgNo:"",remark:"",userId:"",userType:""},userType:void 0,isLook:!1,activeId:""},function(){}),e.classList.remove("add-customer-show")}},{key:"handleAddMustor",value:function(e,n){e.classList.contains("add-customer-show")?e.classList.remove("add-customer-show"):e.classList.add("add-customer-show"),n.classList.remove("searchel-show"),this.setState({isbtn:!0})}},{key:"resetHeight",value:function(e){var n=document.body.clientHeight;e.style.height=n-60+"px"}},{key:"handleSearch",value:function(e,n){e.classList.contains("searchel-show")?e.classList.remove("searchel-show"):e.classList.add("searchel-show"),n.classList.remove("add-customer-show")}},{key:"handleCancel",value:function(e){e.classList.remove("searchel-show")}},{key:"handleSave",value:function(e,n,t,a,i,r){var o=this;this.setState({name:i.value,orgNo:r.value,cabinetNo:e.value,mobilePhone:t.value,pageNum:1,pageSize:10,load:!0,userList:[]},function(){a.classList.remove("searchel-show"),o.getData()})}},{key:"handleAddSave",value:function(t,a,i,r,e,n){var o=this,l={};if(l=r?{userId:"",name:"",cabinetNo:"",mobilePhone:"",userType:"",remark:"",orgNo:"",orgName:""}:{name:"",cabinetNo:"",mobilePhone:"",userType:"",remark:"",orgNo:"",orgName:""},a.input.value)if(t.input.value)if(i.input.value&&c.i.test(i.input.value))if(this.state.userType)if(e.input.value)if(n.input.value){if(r){var s=this.state.userType;"客户经理"==this.state.userType?s="2":"审核员"==this.state.userType?s="3":"业务管理员"==this.state.userType&&(s="4"),l.userId=r,l.userType=s}else l.userType=this.state.userType;l.name=t.input.value,l.cabinetNo=a.input.value,l.mobilePhone=i.input.value,l.remark="",l.orgNo=e.input.value,l.orgName=n.input.value,Object(c.j)(l).then(function(e){var n=e.data;if(1===n.code&&"success"===n.msg){if(r)u.a.success("编辑成功"),o.setState({activeId:r});else{u.a.success("新建成功");o.setState({userDetail:{cabinetNo:"",createTime:"",mobilePhone:"",name:"",orgName:"",orgNo:"",remark:"",userId:"",userType:""},userType:void 0})}t.input.value="",a.input.value="",i.input.value="",o.setState({load:!0,pageNum:1,pageSize:10,cabinetNo:"",mobilePhone:"",name:"",orgNo:""},function(){o.getData()})}else u.a.error(n.msg)}).catch(function(e){u.a.error(e.msg)})}else u.a.error("请填写机构名称");else u.a.error("请填写机构号");else u.a.error("请选择用户类别");else u.a.error("请填写正确手机号码");else u.a.error("请填写用户名");else u.a.error("请填写正确柜员号")}},{key:"handleAddCancel",value:function(e,n){n.classList.remove("add-customer-show"),this.setState({add:!1,nodata:!0})}},{key:"handleList",value:function(e,n,t,a,i,r){var o=this,l=this.state.userList;if(r.classList.remove("add-customer-show"),a)i||this.getUserDetail(t),l[n].active=!l[n].active,this.setState({userList:l,isLook:!0,isbtn:!1},function(){for(var e=[],n=0;n<o.state.userList.length;n++)o.state.userList[n].active&&e.push(o.state.userList[n]);e.length||o.setState({add:!1,nodata:!0})});else{if(i)return;for(var s=0;s<l.length;s++)l[s].active=!1;l[n].active=!0,this.setState({userList:l,isLook:!0,isbtn:!1}),this.getUserDetail(t)}}},{key:"getUserDetail",value:function(a){var i=this;Object(c.A)({userId:a}).then(function(e){var n=e.data;if(1===n.code&&"success"===n.msg)if(n.data){i.userkind(n.data.userType.toString(),1);var t="";1===n.data.userType?t="用户管理员":2===n.data.userType?t="客户经理":3===n.data.userType?t="审核员":4===n.data.userType&&(t="业务管理员"),Object(c.v)("saveDetail",n.data),i.setState({add:!0,userId:a,nodata:!1,userDetail:n.data,saveDetail:n.data,userType:t},function(){})}else i.setState({add:!1,nodata:!0})})}},{key:"userkind",value:function(e,n){2===n&&this.setState({isbtn:!0}),this.setState({userType:e},function(){})}},{key:"handleUserEdit",value:function(t,a){var i=this;this.setState({edit:!this.state.edit},function(){var e=i.state.userList;if(i.state.edit)t.classList.add("useroparate-active"),a.classList.add("padding-active");else{for(var n=0;n<e.length;n++)e[n].active=!1;i.setState({userList:e}),t.classList.remove("useroparate-active"),a.classList.remove("padding-active")}})}},{key:"usertransfer",value:function(){}},{key:"userbief",value:function(){window.open(i.b+"/sys/backup/db")}},{key:"handleuserdelete",value:function(e){var n=this.state.userList,t=[],a=this;n.map(function(e,n){return e.active?t.push(e.userId):""});var i={userIds:t.join(",")};t.length&&e({title:"删除操作后不可以恢复, 确认删除?",okText:"确定",cancelText:"取消",onOk:function(){Object(c.z)(i).then(function(e){var n=e.data;1===n.code&&"success"===n.msg?(u.a.success("删除成功"),a.setState({userList:[],load:!0,pageNum:1,pageSize:10,add:!1,nodata:!0,cabinetNo:"",mobilePhone:"",name:"",orgNo:""},function(){a.getData()})):u.a.error(n.msg)})},onCancel:function(){}})}},{key:"handleChange",value:function(e,n){var t=this.state.userDetail;1===n?t.cabinetNo=e.input.value:2===n?t.name=e.input.value:3===n?t.mobilePhone=e.input.value:4===n?t.orgNo=e.input.value:5===n&&(t.orgName=e.input.value),this.setState({userDetail:t,isbtn:!0},function(){})}}]),t}();n.default=Object(a.connect)()(je)}}]);